# Установка

Скачайте VSCode с [сайта](https://code.visualstudio.com/download), вам нужна версия для Linux (с нарисованным пингвином) **.tar.gz x64** (последнее обязательно, это portable-версия, не требующая установки).

Если не качает, то вот [прямая ссылка](https://code.visualstudio.com/sha/download?build=stable&os=linux-x64)

Скачанный архив нужно распаковать с помощью команды:

```bash
tar -xzf code-stable-x64-1671533708.tar.gz
```

Название того что скачается может отличаться от примера

Чтобы не писать полностью название архива достаточно написать `code` и нажать <kbd>Tab</kbd>.

По завершении распаковки у вас появится папка `VSCode-linux-x64`, в которой будет файл `code`. Попробуйте запустить его либо дважды кликнув, либо будучи в этой папке в терминале написав `./code`. Если ничего не запустится, то находясь в папке выполните команду:

```bash
chmod +x code
```

## Работа

Это обычный VSCode, открывайте папку с вашим проектом и редактируйте файлы, пользуйтесь встроенным терминалом и настраивайте на своё усмотрение.

Настройки можно перенести если они сохраняются в вашей учётной записи, например, на GitHub. Только учтите, что, например, не все шрифты установлены и если нет вашего, то во встроенном терминале может быть некрасивый текст. Если это случилось то просто выберите шрифт по умолчанию.

Расширения также прекрасно устанавливаются, но есть нюанс, о котором смотрите ниже.

## Важное дополнение

Для вашей учётной записи отведено не много места, его хватает для всевозможных задач, которые вам предстоит решать на протяжении нескольких лет, но не совсем хватает для таких приколов с установкой больших сторонних программ как VSCode.

Во-первых, после распаковки стоит сразу удалить архив (и из корзины тоже, если удаляете в графическом файловом менеджере). Через терминал это можно сделать командой:

```bash
rm -rf file
```

где `file` название того файла который вы хотите НАВСЕГДА удалить без возможности восстановления (аккуратно выполняйте данную команду, подробнее можете почитать [тут](http://wikireality.ru/wiki/Rm_-rf)).

Во-вторых, расширения могут занимать много места и если вы понаставите всего и вся, то вашей учётной записи очень скоро придёт конец. Не стоит переусердствовать — компьютер с учёткой на мехмате вам нужен только чтобы сдавать задачи, а не убивать глаза в процессе их написания. (Но что-нибудь типа [C/C++](https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools) установите, всегда полезно иметь подсветку синтаксиса).

> Однако это расширение само по себе весит 200 МБ
>
> Также кеширует достаточно много и имеет ограничение по умолчанию в 5 ГБ, что не вписывается в мехматские лимиты, поэтому откройте настройки, впишите IntelliSense Cache Size и поставьте разумный размер, возможно 64 хватит (либо 0, чтобы ничего не кешировалось вовсе)
>
> Также для каждого проекта оно создает ~16МБ файлы и хранит их в папках VSCode со страшными названиями, чтобы легко их отслеживать можно в настройках поменять путь для этих файлов. Впишите Default Browse Database Filename и добавьте строку `${workspaceFolder}/.vscode/vc.db`, тогда эти файлы вы будете видеть в папке `.vscode` в директории с вашим кодом и периодически удалять их для сданных задач будет легче.

В-третьих, VSCode любит кешировать разные данные, а его расширения любят кешировать ещё больше, поэтому даже если вы будете просто работать, рано или поздно объём всего этого чуда заполнит память и всё сломается.

### Как с этим справляться?

Удобнее всего просматривать размеры папок и файлов в графическом файловом менеджере.

Для начала нужно включить отображение скрытых файлов и папок (TODO: посмотреть что там вообще стоит и как включить), после чего вы увидите папки и файлы начинающиеся с точки. Нам интересна папка `.config`, внутри которой лежит `Code` и там `Cache`, `CachedData`, и `CachedExtensionVSIXs`. Периодически удаляя их содержимое вы не заполните всё отведенное для вас место и учётка будет жить.

### Что если проигнорировать?

В лучшем случае в один прекрасный момент вы сможете зайти в свою учётку, но не сможете создать ни одного файла или папки.

Также возможно у вас поломается панель задач на рабочем столе, но останется хотя бы кнопочка в верхнем правом углу с достаточным функционалом для исправления проблем. Если нет, то хорошо если будет открываться терминал по нажатии клавиш <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>T</kbd>, тогда придётся через него заходить во все эти папки и удалять лежащее в них.

Для восстановления панели задач нужно будет тоже потанцевать с бубном и написать пару команд. (TODO: каких?)

Но лучше либо руками периодически (полагаю раз в пару недель должно хватить) всё чистить, либо поискать более изящные решения. (TODO: поискать решения)

Пожалуйста, учитывайте все эти моменты, имейте все копии программ у себя и будьте готовы сдавать их под гостевой учётной записи в сессию.
